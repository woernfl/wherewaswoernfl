<!--
    This site has been ispired by Bob Van Luijt, that I would like to thanks.
    See the original code: https://github.com/bobvanluijt/whereWasBob

    Add places in the load-venues.json file.
    You can use to get the GPS coordonates: https://www.gps-coordinates.org/
-->


<!DOCTYPE html>
<html>
  <head>
    <title>Where was woernfl?</title>
    <meta name="title" content="Where was woernfl?">
    <meta name="description" content="Where in the world was I...?">
    <meta name="theme-color" content="#22f79f">
    <meta property="og:title" content="See where was I?">
    <meta property="og:url" content="http://woernfl.xyz">
    <meta property="og:image" content="loading.png">
    <meta property="og:description" content="Where in the world was I...?">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:creator" content="@woernfl">
    <meta name="twitter:site" content="@woernfl">
    <meta name="twitter:title" content="Where was woernfl?">
    <meta name="twitter:description" content="Where in the world was I...?">
    <meta name="twitter:image:src" content="loading.png">
    <meta property="author" content="Florian Woerner">
    <meta name="robots" content="index, follow">
    <meta property="og:site_name" content="woernfl.xyz">
    <meta property="al:web:url" content="http://woernfl.xyz">
    <link href="https://fonts.googleapis.com/css?family=Lato|Lora" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="icon" href="favicon/W_logo.png" class="js-favicon">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-icon-180x180.png">
    <link rel="apple-touch-icon" sizes="152x152" href="favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="144x144" href="favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="120x120" href="favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="114x114" href="favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="76x76" href="favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="60x60" href="favicon/apple-icon-60x60.png">
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
    <!-- MAP -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js" integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==" crossorigin=""></script>

    <style>
      body {
        font-family: 'Lato', sans-serif;
        margin: 0;
      }
      a {
        color: hotpink;
      }
      h3 {
        font-family: 'Lora', serif;
      }
      #map {
        position: absolute;
        height: 100%;
        width: 100%;
        z-index: 1;
      }
    </style>
  </head>
	
  <body>
    <div id="map"><!-- MAP --></div>
    <script>
      var map;
			
      function initmap() {
	      // set up the map
	      map = new L.Map('map');

	      // create the tile layer with correct attribution
	      var osmUrl='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
	      var osmAttrib='Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors';
	      var osm = new L.TileLayer(osmUrl, {minZoom: 1, maxZoom: 20, attribution: osmAttrib});		
	      
	      $.getJSON("load-venues.json", function( data ) {            
                data.forEach(function(val) {
                    console.log("Create: " + val.type);
                    if(val.now === true){
		        map.setView(new L.LatLng(val.lat, val.lng),9);
	                map.addLayer(osm);
			var layer = L.marker(L.latLng(val.lat, val.lng), title: val.name).addTo(map);
	                layer.addTo(map);
                    } else if(val.type.indexOf("Train") !== -1){
                        addIcon.path = "M319.228,116.471c-2.277-0.59-6.785-1.715-6.785-1.715l-0.012-50.163c0-10.677-8.771-20.485-24.299-24.461c-14.918-3.819-26.834-7.109-49.414-8.599c3.793-3.295,6.203-8.142,6.203-13.562C244.921,8.047,236.874,0,226.947,0c-9.924,0-17.971,8.046-17.971,17.971c0,4.952,2.004,9.433,5.242,12.684h-18.314c3.238-3.251,5.242-7.732,5.242-12.684C201.146,8.047,193.102,0,183.175,0c-9.926,0-17.971,8.046-17.971,17.971c0,5.419,2.408,10.267,6.203,13.562c-22.582,1.49-34.496,4.78-49.414,8.599c-15.527,3.976-24.299,13.784-24.299,24.461l-0.014,50.163c0,0-4.508,1.125-6.783,1.715c-5.418,1.405-9.199,6.293-9.199,11.889v151.906c0,6.783,5.498,12.281,12.281,12.281h222.162c6.783,0,12.281-5.499,12.281-12.281V128.359C328.425,122.764,324.644,117.875,319.228,116.471z M125.955,68.351c20.594-5.1,41.52-8.215,62.33-9.282v39.196c-20.803,1.036-41.721,4.061-62.33,9.012V68.351z M205.472,177.957h-0.818c-14.5,0-26.297-11.797-26.297-26.3c0-14.501,11.797-26.299,26.297-26.299h0.818c14.502,0,26.299,11.798,26.299,26.299C231.771,166.16,219.974,177.957,205.472,177.957z M284.171,107.277c-20.607-4.952-41.527-7.976-62.33-9.012V59.069c20.811,1.067,41.735,4.182,62.33,9.282V107.277L284.171,107.277z";
                        addIcon.fillColor = '#aec6cf';
                        addIcon.scale = 0.10;
                        addIcon.zIndex = 2;
                    } else if(val.type.indexOf("Airport") !== -1){
                        addIcon.path = "M48.049 36.31c.523.169.951-.142.951-.692v-3.494c0-.55-.387-1.23-.859-1.512l-18.282-10.895c-.472-.281-.859-.962-.859-1.511v-12.206c0-.55-.168-1.417-.374-1.928 0 0-1.091-2.708-3-3.01-.204-.036-.411-.062-.619-.062h-.01c-.241-.002-.479.028-.713.072l-.216.048-.328.102c-1.588.53-2.406 2.835-2.406 2.835-.184.519-.334 1.393-.334 1.943v12.206c0 .55-.387 1.23-.859 1.512l-18.282 10.894c-.472.282-.859.962-.859 1.512v3.494c0 .55.428.861.951.691l18.098-5.875c.523-.169.951.142.951.692v9.533c0 .55-.36 1.271-.8 1.601l-2.4 1.802c-.44.33-.8 1.051-.8 1.601v2.337c0 .55.433.876.961.724l6.075-1.745c.528-.152 1.394-.152 1.922 0l6.081 1.745c.528.152.961-.174.961-.724v-2.338c0-.55-.36-1.271-.8-1.601l-2.4-1.802c-.439-.33-.8-1.051-.8-1.601v-9.533c0-.55.428-.861.951-.691l18.098 5.876z";
                        addIcon.fillColor = '#ffbf35';
                        addIcon.scale = 0.85;
                        addIcon.zIndex = 8;
                    } else if(val.type.indexOf("City") !== -1){
                      var layer = L.marker(L.latLng(val.lat, val.lng)).addTo(map);
	              layer.addTo(map);
                    }
		});
            });
      }
      
      initmap();

    </script>
  </body>
</html>
